<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Career Roadmap Draft</title>

    <!-- MapBox -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.css' rel='stylesheet' />
    

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    
    <script>

    
    </script>

    
    <!-- Bootstrap core CSS -->
    <link href="./scripts/bootstrap.min.css" rel="stylesheet">


    <style>

    
    body { margin:0; padding:0; }
    
      #map{
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
    }
    
    
    .card {margin-top: 70px; }
    
    body, html { height: 100%;}
    
    .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
      


	@font-face {
 	  font-family: 'KapraNeue-SemiBoldExpanded';
	  src: url(./styles/KapraNeue-SemiBoldExpanded.woff);
	  font-weight: 600;
	  font-style: normal;
	}
    
	@font-face {
	  font-family: 'Karla-Regular';
	  src: url(./styles/Karla-Regular.ttf),
           url(./styles/Karla-Regular.woff);
	}

	@font-face {
	  font-family: 'Karla-Bold';
	  src: url(./styles/Karla-Bold.ttf),
           url(./styles/Karla-Bold.woff);
	}

    


    
    
    </style>
    <!-- Custom styles for this template -->
    <link href="./styles/custom.css" rel="stylesheet">
    
</head>
  <body>
  
  
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
  <a class="navbar-brand" href="#">Map Test</a>

</nav>

   <main role="main" class="container-fluid h-100">
        <div class="row h-100">
        
            <div class="col-md-3">
            
               <div class="card">
                  <div class="card-header">
                    Edit
                  </div>
                  <div class="card-body">
                    <h5 class="card-title">Add New Marker to Map</h5>
                    <p class="card-text">This is a test to add a new marker to my map.</p>
                    <a href="#" class="btn btn-primary" onclick="performGetRequest()">Add Marker</a>
                    
                     <script>

                     
                        function addMarker() {

                            const url = "https://api.mapbox.com/datasets/v1/grntwlkr/cjvy6nmvx03zm2jpovxnb8rto/features?access_token=pk.eyJ1IjoiZ3JudHdsa3IiLCJhIjoiY2lxbXRjdHpuMDB5M2dpamZ0emIwaTRueiJ9.JT4VlUBUEX7efiy1Gr8wLg";
        
                            axios.get(url)
                            .then(data=>console.log(data))
                            .catch(err=>console.log(err))
                            
                            }
                            
                            function performGetRequest() {
                            
                             const url = "https://api.mapbox.com/datasets/v1/grntwlkr/cjvy6nmvx03zm2jpovxnb8rto/features?access_token=pk.eyJ1IjoiZ3JudHdsa3IiLCJhIjoiY2lxbXRjdHpuMDB5M2dpamZ0emIwaTRueiJ9.JT4VlUBUEX7efiy1Gr8wLg";
                             
                              var resultElement = document.getElementById('getResponse');
                              resultElement.innerHTML = '';
                              
                              axios.get(url)
                                .then(function (response) {
                                  resultElement.innerHTML = generateSuccessHTMLOutput(response);
                                  addMarkers(response);
                                })
                                .catch(function (error) {
                                  resultElement.innerHTML = generateErrorHTMLOutput(error);
                                });   
                            }
                            
                            function addMarkers(response) {
                                var newLocations = response.data;
                                map.loadImage("https://i.imgur.com/MK4NUzI.png", function(error, image) {
                                if (error) throw error;
                                map.addImage("custom-marker", image);
                                
                                map.addLayer({
                                id: 'locations',
                                type: 'symbol',
                                // Add a GeoJSON source containing place coordinates and information.
                                source: {
                                  type: 'geojson',
                                  data: newLocations
                                },
                                layout: {
                                    "icon-image": "custom-marker",
                                }
                              });
                            }
                            
                            function generateSuccessHTMLOutput(response) {
                              return  '<h5>Data:</h5>' + 
                                      '<pre>' + JSON.stringify(response.data, null, '\t') + '</pre>'; 
                            }
                            function generateErrorHTMLOutput(error) {
                              return  '<h4>Result</h4>' + 
                                      '<h5>Message:</h5> ' + 
                                      '<pre>' + error.message + '</pre>' +
                                      '<h5>Status:</h5> ' + 
                                      '<pre>' + error.response.status + ' ' + error.response.statusText + '</pre>' +
                                      '<h5>Headers:</h5>' + 
                                      '<pre>' + JSON.stringify(error.response.headers, null, '\t') + '</pre>' + 
                                      '<h5>Data:</h5>' + 
                                      '<pre>' + JSON.stringify(error.response.data, null, '\t') + '</pre>'; 
                            }

                             

                        
			  </script>
                    
                    
                  </div>
                  
                </div> <!-- end card -->
                
                <div class="card">
                    <div class="card-header">
                        Response
                    </div>
                    
                    <div class="card-body" id="getResponse">
                    
                    </div>
                    
                    
                
                </div> <!-- end card -->
            
            </div>   <!-- end col-md-3 -->
            
            
            <div class="col-md-9">
            
                <div id='map'></div>
                    <script>
                        mapboxgl.accessToken = 'pk.eyJ1IjoiZ3JudHdsa3IiLCJhIjoiY2lxbXRjdHpuMDB5M2dpamZ0emIwaTRueiJ9.JT4VlUBUEX7efiy1Gr8wLg';
                        const map = new mapboxgl.Map({
                        container: 'map',
                        style: 'mapbox://styles/grntwlkr/cjvy0v0660z2f1cplut2bp6kk',
                        center: [-111.418925, 33.580861],
                        zoom: 9.1
                        });
                    </script>
                            
            
            
            </div>
        
        
        </div>
    
    
    
    </main>
    

     


 <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="./scripts/jquery-slim.min.js"><\/script>')</script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="./scripts/bootstrap.bundle.min.js" integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o" crossorigin="anonymous"></script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip({ trigger: "hover" })
        })
    </script>
    </body>
</html>
